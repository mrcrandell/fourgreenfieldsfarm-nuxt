// The TS client will be generated in the `node_modules/.prisma/client` directory
generator client {
    provider = "prisma-client-js"
    output   = "./node_modules/.prisma/client"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Event {
  id              String   @id @default(uuid())
  name            String
  slug            String
  startsAt        DateTime @db.Timestamptz()
  endsAt          DateTime @db.Timestamptz()
  description     String?  @db.Text
  isFeatured      Boolean  @default(false)
  isHasEndsAt     Boolean  @default(false)
  isAllDay        Boolean  @default(false)
  isActive        Boolean  @default(true)
  hauntedBy       String?
  recurringEventId String?
  recurrenceRule  String?
  createdAt       DateTime @default(now()) @db.Timestamptz()
  updatedAt       DateTime @updatedAt @db.Timestamptz()

  // Optional: Add relation to self for recurring events
  recurringEvent  Event?   @relation("RecurringEvents", fields: [recurringEventId], references: [id])
  recurrences     Event[]  @relation("RecurringEvents")
}

model User {
  id            String    @id @default(uuid())
  name          String?
  email         String    @unique
  password      String
  rememberToken String?
  createdAt     DateTime  @default(now()) @db.Timestamptz()
  updatedAt     DateTime  @updatedAt @db.Timestamptz()
}